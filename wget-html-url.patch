--- wget-1.21.2/src/html-url.c	2021-09-07 21:56:08.000000000 +0300
+++ wget-1.21.2/src/html-url-extended.c	2021-11-10 01:59:00.586998569 +0300
@@ -84,6 +84,7 @@
   TAG_TH,
   TAG_VIDEO,
   TAG_AUDIO,
+  TAG_TRACK,
   TAG_SOURCE
 };
 
@@ -118,6 +119,7 @@
   { TAG_TH,      "th",          tag_find_urls },
   { TAG_VIDEO,   "video",       tag_find_urls },
   { TAG_AUDIO,   "audio",       tag_find_urls },
+  { TAG_TRACK,   "track",       tag_find_urls },
   { TAG_SOURCE,  "source",      tag_find_urls }
 };
 
@@ -146,6 +148,8 @@
   int flags;
 } tag_url_attributes[] = {
   { TAG_A,              "href",         ATTR_HTML },
+  { TAG_A,              "data-src",     ATTR_INLINE | ATTR_HTML },
+  { TAG_A,              "data-href",    ATTR_INLINE | ATTR_HTML },
   { TAG_APPLET,         "code",         ATTR_INLINE },
   { TAG_AREA,           "href",         ATTR_HTML },
   { TAG_BGSOUND,        "src",          ATTR_INLINE },
@@ -158,19 +162,32 @@
   { TAG_IMG,            "href",         ATTR_INLINE },
   { TAG_IMG,            "lowsrc",       ATTR_INLINE },
   { TAG_IMG,            "src",          ATTR_INLINE },
+  { TAG_IMG,            "data-src",     ATTR_INLINE },
+  { TAG_IMG,            "data-href",    ATTR_INLINE },
   { TAG_INPUT,          "src",          ATTR_INLINE },
   { TAG_LAYER,          "src",          ATTR_INLINE | ATTR_HTML },
   { TAG_OBJECT,         "data",         ATTR_INLINE },
   { TAG_OVERLAY,        "src",          ATTR_INLINE | ATTR_HTML },
   { TAG_SCRIPT,         "src",          ATTR_INLINE },
+  { TAG_SCRIPT,         "data-src",     ATTR_INLINE },
+  { TAG_SCRIPT,         "data-href",    ATTR_INLINE },
   { TAG_TABLE,          "background",   ATTR_INLINE },
   { TAG_TD,             "background",   ATTR_INLINE },
   { TAG_TH,             "background",   ATTR_INLINE },
   { TAG_VIDEO,          "src",          ATTR_INLINE },
   { TAG_VIDEO,          "poster",       ATTR_INLINE },
+  { TAG_VIDEO,          "data-src",     ATTR_INLINE },
+  { TAG_VIDEO,          "data-href",    ATTR_INLINE },
   { TAG_AUDIO,          "src",          ATTR_INLINE },
   { TAG_AUDIO,          "poster",       ATTR_INLINE },
-  { TAG_SOURCE,         "src",          ATTR_INLINE }
+  { TAG_AUDIO,          "data-src",     ATTR_INLINE },
+  { TAG_AUDIO,          "data-href",    ATTR_INLINE },
+  { TAG_TRACK,          "src",          ATTR_INLINE },
+  { TAG_TRACK,          "data-src",     ATTR_INLINE },
+  { TAG_TRACK,          "data-href",    ATTR_INLINE },
+  { TAG_SOURCE,         "src",          ATTR_INLINE },
+  { TAG_SOURCE,         "data-src",     ATTR_INLINE },
+  { TAG_SOURCE,         "data-href",    ATTR_INLINE }
 };
 
 /* The lists of interesting tags and attributes are built dynamically,
@@ -530,7 +547,7 @@
      known not to be, such as style sheet and shortcut icon:
 
      <link rel="stylesheet" href="..."> or <link rel="alternate stylesheet" href="...">
-     <link rel="shortcut icon" href="..."> or <link rel="icon" href="...">
+     <link rel="shortcut icon" href="..."> or <link rel="icon" href="..."> or <link rel="apple-touch-icon" href="...">
   */
   if (href)
     {
@@ -546,7 +563,7 @@
                   up->link_inline_p = 1;
                   up->link_expect_css = 1;
                 }
-              else if (0 == c_strcasecmp (rel, "shortcut icon") || 0 == c_strcasecmp (rel, "icon"))
+              else if (0 == c_strcasecmp (rel, "shortcut icon") || 0 == c_strcasecmp (rel, "icon") || 0 == c_strcasecmp (rel, "apple-touch-icon"))
                 {
                   up->link_inline_p = 1;
                 }
